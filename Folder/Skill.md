# 移动 GUI Agent 自动巡查与举报盗版内容技术路线

## 1. 任务分解
将任务分为以下几个关键步骤：

1. **启动应用并输入关键词**：启动闲鱼或小红书应用，输入“得到”作为搜索关键词。
2. **滚动并浏览搜索结果**：模拟滚动操作，查看多个搜索结果。
3. **进入详情页并获取商铺信息**：点击进入商品或笔记的详情页，获取商铺名称、商品价格和标题信息。
4. **判断是否为正版内容**：
   - **商铺名称**：与目标商铺名称（旗舰店铺）进行匹配。
   - **价格判断**：若价格低于原价的 70%，则判定为盗版。
   - **标题匹配**：检查标题是否与目标内容一致。
5. **举报盗版内容**：如果判断为盗版，调用举报功能进行举报。
6. **返回列表继续**：举报后返回搜索列表，继续处理其他搜索结果。

---

## 2. 任务执行流程

### 状态1：启动应用
- 启动闲鱼或小红书，加载搜索界面，输入“得到”作为搜索关键词。

### 状态2：滚动浏览搜索结果
- 使用 ADB 控制，模拟滚动操作浏览多个搜索结果。

### 状态3：进入商品详情页
- 点击搜索结果，进入商品详情页，获取以下信息：
  1. **商铺名称**：获取并判断商铺名称是否为正版旗舰店。
  2. **商品价格**：获取商品价格，与正常价格进行比较，若价格低于 70% 的正常价格，则判断为盗版。
  3. **商品标题**：检查商品标题是否与目标内容匹配。

### 状态4：盗版判断
- 判断是否为盗版，判定依据：
  - **商铺名称是否匹配**：如果匹配目标商铺名称，则判定为正版。
  - **价格是否符合标准**：如果价格低于原价的 70%，则判定为盗版。
  - **标题是否匹配**：如果标题与目标商品内容不符，则判断为盗版。

### 状态5：举报盗版内容
- 如果判定为盗版，自动触发举报操作，并记录举报理由：
  - 举报理由可以包括商铺名称不符、价格低于标准、标题不符等。

### 状态6：返回列表继续
- 举报成功后，返回搜索列表，继续处理下一个搜索结果。

---

## 3. 关键判断逻辑
以下是几个具体的判断逻辑：

### 商铺名称判断
- 比较获取的商铺名称与目标商铺（如旗舰店铺名称）是否匹配。
  - **若匹配**：判定为正版内容，跳过后续判断。
  - **若不匹配**：继续判断价格和标题。

### 价格判断
- 获取商品的标价，与正常售价进行比较。
  - **若价格低于正常价格的 70%**：判断为盗版内容。
  - **若价格高于或等于 70%**：继续检查标题。

### 标题匹配
- 获取商品的标题并与目标内容进行比较。
  - **若标题匹配**：判定为正版。
  - **若标题不匹配**：判断为盗版。

---

## 4. 错误处理与重试机制

1. **页面加载失败**：如果某个页面无法加载或崩溃，Agent 应当重新加载页面或跳过当前商品继续检查下一个。
2. **无搜索结果**：若搜索无结果，应自动进行重试或退出。
3. **网络异常**：若在执行过程中出现网络问题，应等待并重试，确保任务稳定执行。

---

## 5. 最终举报与记录

- **举报理由**：为每个举报的内容生成详细的理由链，例如：
  - "商铺名称与目标旗舰店不符，价格低于正常售价 70%，标题与预期内容不符，判定为盗版。"
- **日志记录**：每次举报后，系统需记录举报的详细信息（商铺名称、商品价格、标题、举报理由等）以供后续查询。

---

## 总结
通过以上步骤和判断逻辑，Agent 可以高效地执行任务，在闲鱼或小红书平台中自动识别和举报涉嫌盗版的“得到”内容。整个过程主要依赖于对商铺名称、商品价格和标题的判断，确保判断准确且高效，减少不必要的步骤，提高举报的精度和效率。
